import core
import io

program TestCore
begin
    IO.println("Testing Core module...")

    // Type utilities
    assert(isNumber(10), "10 should be a number")
    assert(isNumber(10.5), "10.5 should be a number")
    assert(isString("hello"), "'hello' should be a string")
    assert(isBool(true), "true should be a bool")
    assert(isArray([1, 2]), "array should be detected")
    assert(isMap({"a": 1}), "map should be detected")

    // Null helpers
    var x = null
    assert(isNull(x), "x should be null")
    assert(isSome(10), "10 should be some")
    
    var y = unwrapOr(x, "default")
    assert(y == "default", "unwrapOr failed")

    // Equality
    assert(shallowEqual(10, 10), "10 == 10")
    assert(not shallowEqual(10, 20), "10 != 20")

    IO.println("Core module tests passed!")
end
