import collections
import io
import core

program TestCollections
begin
    IO.println("Testing Collections module...")

    var list = [1, 2, 3, 4, 5]
    
    // Test contains using for-each
    assert(Collections.contains(list, 3), "Should contain 3")
    assert(not Collections.contains(list, 10), "Should not contain 10")
    
    // Test first and last  
    var firstVal = Collections.first(list)
    assert(firstVal == 1, "First should be 1")
    
    var lastVal = Collections.last(list)
    assert(lastVal == 5, "Last should be 5")
    
    // Test union
    var list2 = [4, 5, 6, 7]
    var unionList = Collections.union(list, list2)
    
    // Test intersection
    var intersect = Collections.intersection(list, list2)
    
    // Test for-each with collections
    var sum = 0
    for each num in list do
        sum = sum + num
    end for
    assert(sum == 15, "Sum should be 15")
    
    IO.println("Collections module tests passed!")
end
